<div class="mt-3 mt-sm-4">
  <div class="row align-items-stretch">
    <div class="col-12 col-md-6 mb-3 mb-sm-4 mb-md-0">
      <div class="card h-100">
        <div
          class="card-header bg-transparent d-block d-sm-flex align-items-center px-4 pt-4 pb-3 pb-sm-4"
        >
          <span class="font-family-semibold text-dark">პროდუქტები</span>
          <div class="custom-tabs ml-auto mr-2 mr-sm-3">
            <ng-container *ngFor="let tab of ['revenue', 'income']">
              <button
                class="btn btn-sm px-3 font-size-14"
                style="
                  width: 136px;
                  height: 42px;
                  padding-top: 10px;
                  padding-bottom: 10px;
                "
                [ngClass]="
                  activeTab === tab
                    ? 'bg-primary-light text-primary border-primary'
                    : 'bg-white border text-muted'
                "
                (click)="toggleTab(tab)"
              >
                {{ tab === 'revenue' ? 'შემოსავალი' : 'მარჟა' }}
              </button>
            </ng-container>
          </div>
          <button
            *ngIf="activeTab === 'revenue'"
            class="product-report-chart-header-export-button rounded"
            (click)="categoryPopularStockItemsByRevenueTable.onExport()"
          ></button>
          <button
            *ngIf="activeTab === 'income'"
            class="product-report-chart-header-export-button rounded"
            (click)="categoryPopularStockItemsByIncomeTable.onExport()"
          ></button>
        </div>
        <div class="card-body p-0">
          <app-categories-report-grid-table
            #categoryPopularStockItemsByRevenueTable
            [totalCount]="totalCount"
            [categoryId]="categoryId"
            [dateRange]="dateRange"
            [columns]="topCategoriesByRevenueColumns"
            endPoint="warehouse/categorypopularstockitemsbyrevenue"
            excelEndPoint="warehouse/categorypopularstockitemsbyrevenue/excel"
            defaultSort="totalRevenue"
            defaultSortDirection="DESC"
            [hidden]="activeTab !== 'revenue'"
          ></app-categories-report-grid-table>
          <app-categories-report-grid-table
            #categoryPopularStockItemsByIncomeTable
            [totalCount]="totalCount"
            [categoryId]="categoryId"
            [dateRange]="dateRange"
            [columns]="topCategoriesByIncomeColumns"
            endPoint="warehouse/categorypopularstockitemsbyincome"
            excelEndPoint="warehouse/categorypopularstockitemsbyincome/excel"
            defaultSort="totalIncome"
            defaultSortDirection="DESC"
            [hidden]="activeTab !== 'income'"
          ></app-categories-report-grid-table>
        </div>
      </div>
    </div>
    <div class="col-12 col-md-6 mb-3 mb-sm-4 mb-md-0">
      <div class="card">
        <div
          class="card-header bg-transparent d-block d-sm-flex align-items-center px-4 pt-4 pb-3 pb-sm-4"
        >
          <span class="font-family-semibold text-dark">მომწოდებლები</span>
          <button
            class="product-report-chart-header-export-button rounded ml-auto"
            (click)="categorySuppliersDelayRevenueTable.onExport()"
          ></button>
        </div>
        <div class="card-body p-0">
          <app-categories-report-grid-table
            #categorySuppliersDelayRevenueTable
            [totalCount]="totalCount"
            [categoryId]="categoryId"
            [dateRange]="dateRange"
            [columns]="topSuppliersByDelayColumns"
            endPoint="warehouse/categorysuppliersdelayrevenue"
            excelEndPoint="warehouse/categorysuppliersdelayrevenue/excel"
            defaultSort="delayRate"
            defaultSortDirection="DESC"
          ></app-categories-report-grid-table>
        </div>
      </div>
    </div>
  </div>
</div>
