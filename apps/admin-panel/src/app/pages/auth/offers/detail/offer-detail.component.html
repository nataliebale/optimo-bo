<form *ngIf="form" [formGroup]="form" (submit)="onSubmit()" class="offer-detail">
  <div class="container-fluid sticky-top bg-white mb-42px" style="height: 72px;">
		<div class="row align-items-center h-100 border-bottom border-secondary">
			<div class="col pl-0 h-100">
				<button type="button" class="btn bg-white px-2 h-100 rounded-0" style="width: 102px;"
					(click)="onCancel()">
					<app-icon icon="close"></app-icon>
				</button>
			</div>
			<div class="col-auto font-size-20 font-family-bold text-dark">
				{{editId ? 'შეთავაზების რედაქტირება' : 'შეთავაზების დამატება'}}
			</div>
			<div class="col pr-4 h-100 d-flex align-items-center justify-content-end">
				<button class="btn btn-primary font-size-14 font-family-bold text-white py-0 px-23px h-42px"
					type="submit">
					შენახვა
				</button>
			</div>
		</div>
	</div>
 
  <div class="w-100" *ngIf="isSubmited && form?.invalid">
		<div class="mx-auto bg-danger-bg px-4 rounded text-center border d-flex align-items-center border-danger-border mt-3"
			style="max-width: 960px;height: 54px;">
			<div class="col-2 d-flex px-0">
				<app-icon icon="alert"></app-icon>
			</div>
			<div class="col text-center font-size-14 font-color-dark font-family-regular">
				შეავსე გამორჩენილი ველები
			</div>
			<div class="col-2 px-0"></div>
		</div>
	</div>


  <div class="container-md d-flex pt-5">
    <div class="pl-0 col-8">

      <div class="w-100 d-flex flex-column pb-32px">
        <label for="offerDetailCompanyName" class="font-size-15 font-color-dark font-family-bold">კომპანიის
          დასახელება*</label>
        <input class="form-control  " id="offerDetailCompanyName" type="text"  
          formControlName="companyName" />
      </div>


      <div class="w-100 d-flex flex-column pb-32px">
        <label for="offerDetailCategory" class="font-size-15 font-color-dark font-family-bold">კატეგორია*</label>
        <input class="form-control  " id="offerDetailCategory" type="text" 
          formControlName="category" />
      </div>


      <div class="w-100 d-flex flex-column  position-relative pb-32px position-relative">
        <div class="font-size-15 font-color-dark font-family-bold pb-2">
          ლოგო*
        </div>
        <div 
          class=" form-control d-flex py-0 pl-14 pr-0 overflow-hidden"
          [ngClass]="{
            'invalid': form.get('logoId').invalid && form.get('logoId').touched,
            'valid': form.get('logoId').valid
          }"
        >
          <div class="d-flex align-items-center col-9 py-2 pl-0">
            <div
              class="selected-custom-blue  d-flex py-1 px-1 text-truncate align-items-center font-size-14 font-color-dark font-family-regular">
              {{logoName}}
            </div>
          </div>
          <div class="col-3 overflow-hidden bg-sidebar-gray border-left border-table-border-color position-relative">
            <app-file-uploader 
              id="offerDetailIcon"
              class="h-100"
              [hideDefaultLabel]="true"
              [uploadFileParamName]="'image'"
              [uploadEndpoint]="'uploads/images?type=0'"
              (uploaded)="onPhotoUploaded($event, 0)"
              [emitFileName]="true"
              ></app-file-uploader>
            <div class="w-100 d-flex justify-content-center align-items-center h-100 bg-sidebar-gray position-absolute "
              style="top: 0px;left: 0px;pointer-events: none;">
              <app-icon icon="import"></app-icon>
              <span class="font-size-14 font-color-dark font-family-bold pl-1">ატვირთვა</span>
            </div>
          </div>
        </div>
        <div class="text-right font-size-12 font-color-dark font-family-regular pt-2">
          მინიმალური დასაშვები ზომები 128x128 (.jpg, .jpeg, .png)
        </div>

         
      </div>




      <div class="pb-32px">
        <label for="offerDetailTextBody" class="font-size-15 font-color-dark font-family-bold">აღწერა*</label>
        <quill-editor
          [styles]="{height: '120px'}"
          [modules]="qlModules"
          (onFocus)="editorFocused = true"
          (onBlur)="editorFocused = false"
          formControlName="text"
          class="quill-editor-control"
          [ngClass]="{
            'focus': editorFocused,
            'invalid': form.get('text').invalid && form.get('text').touched,
            'valid': form.get('text').valid
          }"
          (onContentChanged)="updateQuillValidity()"
        >
          
        </quill-editor>
      </div>



      <div class="w-100 d-flex flex-column  position-relative   position-relative">
        <div class="font-size-15 font-color-dark font-family-bold pb-2">
          ფაილის ატვირთვა
        </div>
        <div 
          class=" form-control d-flex py-0 pl-14 pr-0 overflow-hidden"
        >
          <div class="d-flex align-items-center col-9 py-2 pl-0">
            <div
              class="selected-custom-blue  d-flex py-1 px-1 text-truncate align-items-center font-size-14 font-color-dark font-family-regular">
              {{pdfUrl}}
            </div>
          </div>
          <div class="col-3 overflow-hidden bg-sidebar-gray border-left border-table-border-color position-relative">
            <label for="offerDetailIcon"></label>
            <app-file-uploader 
              class="h-100" [uploadEndpoint]="'uploads/files'"
            
              [hideDefaultLabel]="true" [customAcceptTypes]="'.pdf, .ppt, .pptx'"
              (uploaded)="onPdfUpload($event)">
            </app-file-uploader>
            <div class="w-100 d-flex justify-content-center align-items-center h-100 bg-sidebar-gray position-absolute "
              style="top: 0px;left: 0px;pointer-events: none;">
              <app-icon icon="import"></app-icon>
              <span class="font-size-14 font-color-dark font-family-bold pl-1">ატვირთვა</span>
            </div>
          </div>
        </div>
        <div class="text-right font-size-12 font-color-dark font-family-regular pt-2">
          მაქსიმალური დასაშვები ზომა 25 Mb. (.pdf, .ppt)
        </div>

        <div 
          *ngIf="copiedTooltipVisible"
        class="offer-detail-tooltip">
          
         <span> კოპირებულია </span> 
        </div>
      </div>


    </div>









    <div class="col-4 pr-0 pt-28px">

      <div 
         class="custom-file uploader-305-bg"
         style="height: 245px;max-width: 304px;"
         [ngClass]="{
          'invalid': form.get('text').touched && form.get('text').invalid
        }"
      >



        <app-file-uploader id="offerDetailImage" class="h-100" [shownImage]="editOffer?.photoUrl"
          [uploadFileParamName]="'image'" [uploadEndpoint]="'uploads/images?type=1'"
          (uploaded)="onPhotoUploaded($event, 1)"
          [emitFileName]="true"
          ></app-file-uploader>


      </div>
      <div class="pr-4 font-size-13 pt-3">
        მინიმალური დასაშვები ზომები 832x624px (.jpg, .jpeg, .png)
      </div>
    </div>







  </div>
</form>